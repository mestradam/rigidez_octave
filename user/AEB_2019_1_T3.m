
% -------------------------------------------------------------------
% Ejemplo 15-2 (Hibbeler - Análisis estructural)
% -------------------------------------------------------------------


% -------------------------------------------------------------------
% Definir el modelo estructural (pre-proceso)

% Agregar nodos al modelo (coordenadas)
nod.xyz = {
    [0      0       0  ]; % 1 % piso 0
    [5.7    0       0  ]; % 2
    [11.4   0       0  ]; % 3
    [17.2   0       0  ]; % 4
    [23.6   0       0  ]; % 5
    [0      0       5.8]; % 6
    [5.7    0       5.8]; % 7
    [11.4   0       5.8]; % 8
    [17.2   0       5.8]; % 9
    [23.6   0       5.8]; % 10
    [0      0      11.6]; % 11
    [5.7    0      11.6]; % 12
    [11.4   0      11.6]; % 13
    [17.2   0      11.6]; % 14
    [23.6   0      11.6]; % 15
    [17.2   0      17.6]; % 16
    [23.6   0      17.6]; % 17
    [0      3.625   0  ]; % 18 % piso 1
    [5.7    3.625   0  ]; % 19
    [11.4   3.625   0  ]; % 20
    [17.2   3.625   0  ]; % 21
    [23.6   3.625   0  ]; % 22
    [0      3.625   5.8]; % 23
    [5.7    3.625   5.8]; % 24
    [11.4   3.625   5.8]; % 25
    [17.2   3.625   5.8]; % 26
    [23.6   3.625   5.8]; % 27
    [0      3.625  11.6]; % 28
    [5.7    3.625  11.6]; % 29
    [11.4   3.625  11.6]; % 30
    [17.2   3.625  11.6]; % 31
    [23.6   3.625  11.6]; % 32
    [17.2   3.625  17.6]; % 33
    [23.6   3.625  17.6]; % 34
    [0      7.135   0  ]; % 35 % piso 2
    [5.7    7.135   0  ]; % 36
    [11.4   7.135   0  ]; % 37
    [17.2   7.135   0  ]; % 38
    [23.6   7.135   0  ]; % 39
    [0      7.135   5.8]; % 40
    [5.7    7.135   5.8]; % 41
    [11.4   7.135   5.8]; % 42
    [17.2   7.135   5.8]; % 43
    [23.6   7.135   5.8]; % 44
    [0      7.135  11.6]; % 45
    [5.7    7.135  11.6]; % 46
    [11.4   7.135  11.6]; % 47
    [17.2   7.135  11.6]; % 48
    [23.6   7.135  11.6]; % 49
    [17.2   7.135  17.6]; % 50
    [23.6   7.135  17.6]; % 51
    [0     10.645   0  ]; % 52 % piso 3
    [5.7   10.645   0  ]; % 53
    [11.4  10.645   0  ]; % 54
    [17.2  10.645   0  ]; % 55
    [23.6  10.645   0  ]; % 56
    [0     10.645   5.8]; % 57
    [5.7   10.645   5.8]; % 58
    [11.4  10.645   5.8]; % 59
    [17.2  10.645   5.8]; % 60
    [23.6  10.645   5.8]; % 61
    [0     10.645  11.6]; % 62
    [5.7   10.645  11.6]; % 63
    [11.4  10.645  11.6]; % 64
    [17.2  10.645  11.6]; % 65
    [23.6  10.645  11.6]; % 66
    [17.2  10.645  17.6]; % 67
    [23.6  10.645  17.6]; % 68
    [0     14.155   0  ]; % 69 % piso 4
    [5.7   14.155   0  ]; % 70
    [11.4  14.155   0  ]; % 71
    [17.2  14.155   0  ]; % 72
    [23.6  14.155   0  ]; % 73
    [0     14.155   5.8]; % 74
    [5.7   14.155   5.8]; % 75
    [11.4  14.155   5.8]; % 76
    [17.2  14.155   5.8]; % 77
    [23.6  14.155   5.8]; % 78
    [0     14.155  11.6]; % 79
    [5.7   14.155  11.6]; % 80
    [11.4  14.155  11.6]; % 81
    [17.2  14.155  11.6]; % 82
    [23.6  14.155  11.6]; % 83
    [17.2  14.155  17.6]; % 84
    [23.6  14.155  17.6]; % 85
    [0     17.665   0  ]; % 86 % piso 5
    [5.7   17.665   0  ]; % 87
    [11.4  17.665   0  ]; % 88
    [17.2  17.665   0  ]; % 89
    [23.6  17.665   0  ]; % 90
    [0     17.665   5.8]; % 91
    [5.7   17.665   5.8]; % 92
    [11.4  17.665   5.8]; % 93
    [17.2  17.665   5.8]; % 94
    [23.6  17.665   5.8]; % 95
    [0     17.665  11.6]; % 96
    [5.7   17.665  11.6]; % 97
    [11.4  17.665  11.6]; % 98
    [17.2  17.665  11.6]; % 99
    [23.6  17.665  11.6]; % 100
    [17.2  17.665  17.6]; % 101
    [23.6  17.665  17.6]; % 102
    [0     21.175   0  ]; % 103 % piso 6
    [5.7   21.175   0  ]; % 104
    [11.4  21.175   0  ]; % 105
    [17.2  21.175   0  ]; % 106
    [0     21.175   5.8]; % 107
    [5.7   21.175   5.8]; % 108
    [11.4  21.175   5.8]; % 119
    [17.2  21.175   5.8]; % 110
    [0     21.175  11.6]; % 111
    [5.7   21.175  11.6]; % 112
    [11.4  21.175  11.6]; % 113
    [17.2  21.175  11.6]; % 114
};

% Agregar restricciones en los nodos
%   dof: grado de libertad restringido
%       1: desplazamiento x
%       2: desplazamiento y
%       3: desplazamiento z
%       4: rotación x
%       5: rotación y
%       6: rotación z
%       0: fixed (no value)
nod.restr = {};
for i = 1 : 17
    nod.restr{i,1} = [i 0];
end

% Agregar tipos de elemento
ele.typ = {
    'frame3d';
};

% Agregar materiales al modelo
ele.mat = {
    [ 20e6 ];
};

% Agregar secciones transversales de elementos
ele.sec = {
    % A          I2              I3              J                               alpha
    [ 0.4*0.4  , 0.4*0.4^3/12  , 0.4*0.4^3/12  , 0.4*0.4^3/12 + 0.4*0.4^3/12   , 0 ]; % columnas
    [ 0.4*0.45 , 0.45*0.4^3/12 , 0.4*0.45^3/12 , 0.45*0.4^3/12 + 0.4*0.45^3/12 , 0 ]; % vigas
};

% Agregar categorías de elementos
ele.cat = {
    % tipo mat sec
    [ 1 1 1 ]; % columnas
    [ 1 1 2 ]; % vigas
};

% Agregar elementos estructurales
ele.conec = {
    [   1,  18, 1 ]; % columnas
    [   2,  19, 1 ];
    [   3,  20, 1 ];
    [   4,  21, 1 ];
    [   5,  22, 1 ];
    [   6,  23, 1 ];
    [   7,  24, 1 ];
    [   8,  25, 1 ];
    [   9,  26, 1 ];
    [  10,  27, 1 ];
    [  11,  28, 1 ];
    [  12,  29, 1 ];
    [  13,  30, 1 ];
    [  14,  31, 1 ];
    [  15,  32, 1 ];
    [  16,  33, 1 ];
    [  17,  34, 1 ];
    [  18,  35, 1 ];
    [  19,  36, 1 ];
    [  20,  37, 1 ];
    [  21,  38, 1 ];
    [  22,  39, 1 ];
    [  23,  40, 1 ];
    [  24,  41, 1 ];
    [  25,  42, 1 ];
    [  26,  43, 1 ];
    [  27,  44, 1 ];
    [  28,  45, 1 ];
    [  29,  46, 1 ];
    [  30,  47, 1 ];
    [  31,  48, 1 ];
    [  32,  49, 1 ];
    [  33,  50, 1 ];
    [  34,  51, 1 ];
    [  35,  52, 1 ];
    [  36,  53, 1 ];
    [  37,  54, 1 ];
    [  38,  55, 1 ];
    [  39,  56, 1 ];
    [  40,  57, 1 ];
    [  41,  58, 1 ];
    [  42,  59, 1 ];
    [  43,  60, 1 ];
    [  44,  61, 1 ];
    [  45,  62, 1 ];
    [  46,  63, 1 ];
    [  47,  64, 1 ];
    [  48,  65, 1 ];
    [  49,  66, 1 ];
    [  50,  67, 1 ];
    [  51,  68, 1 ];
    [  52,  69, 1 ];
    [  53,  70, 1 ];
    [  54,  71, 1 ];
    [  55,  72, 1 ];
    [  56,  73, 1 ];
    [  57,  74, 1 ];
    [  58,  75, 1 ];
    [  59,  76, 1 ];
    [  60,  77, 1 ];
    [  61,  78, 1 ];
    [  62,  79, 1 ];
    [  63,  80, 1 ];
    [  64,  81, 1 ];
    [  65,  82, 1 ];
    [  66,  83, 1 ];
    [  67,  84, 1 ];
    [  68,  85, 1 ];
    [  69,  86, 1 ];
    [  70,  87, 1 ];
    [  71,  88, 1 ];
    [  72,  89, 1 ];
    [  73,  90, 1 ];
    [  74,  91, 1 ];
    [  75,  92, 1 ];
    [  76,  93, 1 ];
    [  77,  94, 1 ];
    [  78,  95, 1 ];
    [  79,  96, 1 ];
    [  80,  97, 1 ];
    [  81,  98, 1 ];
    [  82,  99, 1 ];
    [  83, 100, 1 ];
    [  84, 101, 1 ];
    [  85, 102, 1 ];
    [  86, 103, 1 ];
    [  87, 104, 1 ];
    [  88, 105, 1 ];
    [  89, 106, 1 ];
    [  91, 107, 1 ];
    [  92, 108, 1 ];
    [  93, 109, 1 ];
    [  94, 110, 1 ];
    [  96, 111, 1 ];
    [  97, 112, 1 ];
    [  98, 113, 1 ];
    [  99, 114, 1 ];
    [  18,  19, 2 ]; % vigas direccion x
    [  19,  20, 2 ];
    [  20,  21, 2 ];
    [  21,  22, 2 ];
    [  23,  24, 2 ];
    [  24,  25, 2 ];
    [  25,  26, 2 ];
    [  26,  27, 2 ];
    [  28,  29, 2 ];
    [  29,  30, 2 ];
    [  30,  31, 2 ];
    [  31,  32, 2 ];
    [  33,  34, 2 ];
    [  35,  36, 2 ];
    [  36,  37, 2 ];
    [  37,  38, 2 ];
    [  38,  39, 2 ];
    [  40,  41, 2 ];
    [  41,  42, 2 ];
    [  42,  43, 2 ];
    [  43,  44, 2 ];
    [  45,  46, 2 ];
    [  46,  47, 2 ];
    [  47,  48, 2 ];
    [  48,  49, 2 ];
    [  50,  51, 2 ];
    [  52,  53, 2 ];
    [  53,  54, 2 ];
    [  54,  55, 2 ];
    [  55,  56, 2 ];
    [  57,  58, 2 ];
    [  58,  59, 2 ];
    [  59,  60, 2 ];
    [  60,  61, 2 ];
    [  62,  63, 2 ];
    [  63,  64, 2 ];
    [  64,  65, 2 ];
    [  65,  66, 2 ];
    [  67,  68, 2 ];
    [  69,  70, 2 ];
    [  70,  71, 2 ];
    [  71,  72, 2 ];
    [  72,  73, 2 ];
    [  74,  75, 2 ];
    [  75,  76, 2 ];
    [  76,  77, 2 ];
    [  77,  78, 2 ];
    [  79,  80, 2 ];
    [  80,  81, 2 ];
    [  81,  82, 2 ];
    [  82,  83, 2 ];
    [  84,  85, 2 ];
    [  86,  87, 2 ];
    [  87,  88, 2 ];
    [  88,  89, 2 ];
    [  89,  90, 2 ];
    [  91,  92, 2 ];
    [  92,  93, 2 ];
    [  93,  94, 2 ];
    [  94,  95, 2 ];
    [  96,  97, 2 ];
    [  97,  98, 2 ];
    [  98,  99, 2 ];
    [  99, 100, 2 ];
    [ 101, 102, 2 ];
    [ 103, 104, 2 ];
    [ 104, 105, 2 ];
    [ 105, 106, 2 ];
    [ 107, 108, 2 ];
    [ 108, 109, 2 ];
    [ 109, 110, 2 ];
    [ 111, 112, 2 ];
    [ 112, 113, 2 ];
    [ 113, 114, 2 ];
    [  18,  23, 2 ]; % vigas direccion y
    [  23,  28, 2 ];
    [  19,  24, 2 ];
    [  24,  29, 2 ];
    [  20,  25, 2 ];
    [  25,  30, 2 ];
    [  21,  26, 2 ];
    [  26,  31, 2 ];
    [  31,  33, 2 ];
    [  22,  27, 2 ];
    [  27,  32, 2 ];
    [  32,  34, 2 ];
    [  35,  40, 2 ];
    [  40,  45, 2 ];
    [  36,  41, 2 ];
    [  41,  46, 2 ];
    [  37,  42, 2 ];
    [  42,  47, 2 ];
    [  38,  43, 2 ];
    [  43,  48, 2 ];
    [  48,  50, 2 ];
    [  39,  44, 2 ];
    [  44,  49, 2 ];
    [  49,  51, 2 ];
    [  52,  57, 2 ];
    [  57,  62, 2 ];
    [  53,  58, 2 ];
    [  58,  63, 2 ];
    [  54,  59, 2 ];
    [  59,  64, 2 ];
    [  55,  60, 2 ];
    [  60,  65, 2 ];
    [  65,  67, 2 ];
    [  56,  61, 2 ];
    [  61,  66, 2 ];
    [  66,  68, 2 ];
    [  69,  74, 2 ];
    [  74,  79, 2 ];
    [  70,  75, 2 ];
    [  75,  80, 2 ];
    [  71,  76, 2 ];
    [  76,  81, 2 ];
    [  72,  77, 2 ];
    [  77,  82, 2 ];
    [  82,  84, 2 ];
    [  73,  78, 2 ];
    [  78,  83, 2 ];
    [  83,  85, 2 ];
    [  86,  91, 2 ];
    [  91,  96, 2 ];
    [  87,  92, 2 ];
    [  92,  97, 2 ];
    [  88,  93, 2 ];
    [  93,  98, 2 ];
    [  89,  94, 2 ];
    [  94,  99, 2 ];
    [  99, 101, 2 ];
    [  90,  95, 2 ];
    [  95, 100, 2 ];
    [ 100, 102, 2 ];
    [ 103, 107, 2 ];
    [ 107, 111, 2 ];
    [ 104, 108, 2 ];
    [ 108, 112, 2 ];
    [ 105, 109, 2 ];
    [ 109, 113, 2 ];
    [ 106, 110, 2 ];
    [ 110, 114, 2 ];
};


% Agregar acciones en los nodos
fx = 1;
fy = 1;
nod.nload = {
    [ 18  1  fx*5013.77/4 ];
    [ 23  1  fx*5013.77/4 ];
    [ 28  1  fx*5013.77/4 ];
    [ 33  1  fx*5013.77/4 ];
    [ 35  1  fx*5003.15/4 ];
    [ 40  1  fx*5003.15/4 ];
    [ 45  1  fx*5003.15/4 ];
    [ 50  1  fx*5003.15/4 ];
    [ 52  1  fx*5003.15/4 ];
    [ 57  1  fx*5003.15/4 ];
    [ 62  1  fx*5003.15/4 ];
    [ 67  1  fx*5003.15/4 ];
    [ 69  1  fx*5003.15/4 ];
    [ 74  1  fx*5003.15/4 ];
    [ 79  1  fx*5003.15/4 ];
    [ 84  1  fx*5003.15/4 ];
    [ 86  1  fx*4986.26/4 ];
    [ 91  1  fx*4986.26/4 ];
    [ 96  1  fx*4986.26/4 ];
    [ 101 1  fx*4986.26/4 ];
    [ 103 1  fx*3114.35/3 ];
    [ 107 1  fx*3114.35/3 ];
    [ 111 1  fx*3114.35/3 ];
    %
    [ 28  2  fy*5013.77/5 ];
    [ 29  2  fy*5013.77/5 ];
    [ 30  2  fy*5013.77/5 ];
    [ 33  2  fy*5013.77/5 ];
    [ 34  2  fy*5013.77/5 ];
    [ 45  2  fy*5003.15/5 ];
    [ 46  2  fy*5003.15/5 ];
    [ 47  2  fy*5003.15/5 ];
    [ 50  2  fy*5003.15/5 ];
    [ 51  2  fy*5003.15/5 ];
    [ 62  2  fy*5003.15/5 ];
    [ 63  2  fy*5003.15/5 ];
    [ 64  2  fy*5003.15/5 ];
    [ 67  2  fy*5003.15/5 ];
    [ 68  2  fy*5003.15/5 ];
    [ 79  2  fy*5003.15/5 ];
    [ 80  2  fy*5003.15/5 ];
    [ 81  2  fy*5003.15/5 ];
    [ 84  2  fy*5003.15/5 ];
    [ 85  2  fy*5003.15/5 ];
    [ 96  2  fy*4986.26/5 ];
    [ 97  2  fy*4986.26/5 ];
    [ 98  2  fy*4986.26/5 ];
    [ 101 2  fy*4986.26/5 ];
    [ 102 2  fy*4986.26/5 ];
    [ 111 2  fy*3114.35/4 ];
    [ 112 2  fy*3114.35/4 ];
    [ 113 2  fy*3114.35/4 ];
    [ 114 2  fy*3114.35/4 ];
};
